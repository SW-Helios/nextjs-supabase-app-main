{
  "tasks": [
    {
      "id": "e9c9163a-fac9-4fb9-b724-67dc94a5b969",
      "name": "핵심 도메인 타입 및 컴포넌트 Props 타입 생성",
      "description": "lib/types/ 디렉토리를 생성하고 핵심 타입 파일 3개(models.ts, components.ts, index.ts)를 작성합니다. 도메인 모델(User, Event, EventParticipant)과 컴포넌트 Props 타입을 정의하며, 모든 타입에 한국어 JSDoc 주석을 추가합니다.",
      "notes": "중요: null 허용 필드는 | null 사용, 선택적 필드는 ? 사용. union type 사용(enum 대신). 날짜는 string 타입(ISO 8601 형식). JSDoc 주석은 반드시 한국어로 작성.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2025-10-14T04:34:58.772Z",
      "updatedAt": "2025-10-14T04:44:53.921Z",
      "relatedFiles": [
        {
          "path": "lib/types/models.ts",
          "type": "CREATE",
          "description": "도메인 모델 타입: User, Event, EventParticipant, 확장 타입",
          "lineStart": 1,
          "lineEnd": 150
        },
        {
          "path": "lib/types/components.ts",
          "type": "CREATE",
          "description": "컴포넌트 Props 타입: EventCardProps, ParticipantCardProps, EmptyStateProps, NavItem, EventFormData, EventFormProps",
          "lineStart": 1,
          "lineEnd": 120
        },
        {
          "path": "lib/types/index.ts",
          "type": "CREATE",
          "description": "타입 중앙 집중식 export",
          "lineStart": 1,
          "lineEnd": 10
        },
        {
          "path": "tsconfig.json",
          "type": "REFERENCE",
          "description": "TypeScript 설정 확인 (strict 모드, paths)",
          "lineStart": 1,
          "lineEnd": 32
        }
      ],
      "implementationGuide": "STEP 1: 디렉토리 생성\n  mkdir -p lib/types\n\nSTEP 2: lib/types/models.ts 생성\n  interface User 정의\n    - id: string (UUID)\n    - email: string\n    - name: string\n    - avatar_url: string | null\n    - role: 'user' | 'admin'\n    - created_at: string (ISO 8601)\n    - updated_at: string (ISO 8601)\n    - JSDoc 주석: 사용자 데이터 모델, 각 필드 설명\n  \n  interface Event 정의\n    - id: string (UUID)\n    - title: string\n    - description: string | null\n    - location: string\n    - event_date: string (ISO 8601)\n    - cover_image_url: string | null\n    - invite_code: string (고유, 자동 생성)\n    - status: 'upcoming' | 'ongoing' | 'ended'\n    - created_by: string (User id)\n    - created_at: string\n    - updated_at: string\n    - JSDoc 주석: 이벤트 데이터 모델, 각 필드 설명\n  \n  interface EventParticipant 정의\n    - id: string\n    - event_id: string\n    - user_id: string\n    - role: 'host' | 'participant'\n    - joined_at: string\n    - JSDoc 주석: 이벤트 참여자 관계 모델\n  \n  확장 타입 정의\n    - interface EventWithHost extends Event\n      - host: Pick<User, 'id' | 'name' | 'avatar_url'>\n      - participant_count: number\n    - interface ParticipantWithUser extends EventParticipant\n      - user: Pick<User, 'id' | 'name' | 'avatar_url'>\n    - interface EventDetail extends EventWithHost\n      - participants: ParticipantWithUser[]\n\nSTEP 3: lib/types/components.ts 생성\n  interface EventCardProps 정의\n    - event: EventWithHost\n    - onClick?: () => void\n    - showStatus?: boolean\n    - variant?: 'default' | 'compact'\n    - JSDoc 주석: 이벤트 카드 컴포넌트 Props\n  \n  interface ParticipantCardProps 정의\n    - participant: ParticipantWithUser\n    - showRole?: boolean\n    - size?: 'sm' | 'md' | 'lg'\n    - JSDoc 주석: 참여자 카드 컴포넌트 Props\n  \n  interface EmptyStateProps 정의\n    - icon?: React.ComponentType<{ className?: string }>\n    - title: string\n    - description?: string\n    - action?: { label: string; onClick: () => void }\n    - JSDoc 주석: 빈 상태 UI 컴포넌트 Props\n  \n  interface NavItem 정의\n    - label: string\n    - href: string\n    - icon: React.ComponentType<{ className?: string }>\n    - badge?: number\n    - JSDoc 주석: 네비게이션 아이템\n  \n  interface EventFormData 정의\n    - title: string\n    - description: string\n    - location: string\n    - event_date: string\n    - cover_image?: File | null\n    - JSDoc 주석: 이벤트 폼 데이터\n  \n  interface EventFormProps 정의\n    - initialData?: Partial<EventFormData>\n    - onSubmit: (data: EventFormData) => Promise<void>\n    - isSubmitting?: boolean\n    - JSDoc 주석: 이벤트 폼 컴포넌트 Props\n\nSTEP 4: lib/types/index.ts 생성\n  export * from './models'\n  export * from './components'\n  JSDoc 주석: 타입 정의 중앙 집중식 export, 사용 예시 추가\n\nSTEP 5: 검증\n  npm run typecheck 실행\n  컴파일 에러 없음 확인\n  순환 참조 없음 확인",
      "verificationCriteria": "1. lib/types/ 디렉토리 생성 확인\n2. models.ts 파일 생성 및 모든 인터페이스 정의 확인 (User, Event, EventParticipant, 확장 타입)\n3. components.ts 파일 생성 및 모든 Props 타입 정의 확인\n4. index.ts 파일 생성 및 re-export 확인\n5. 모든 타입에 한국어 JSDoc 주석 추가 확인\n6. npm run typecheck 성공 (0 errors)\n7. 컴파일 에러 없음\n8. PascalCase 명명 규칙 준수\n9. interface 사용 (type alias 최소화)\n10. 선택적 필드 ? 사용, null 허용 필드 | null 사용",
      "analysisResult": "\nTask 002: 타입 정의 및 인터페이스 설계\n\nGather 플랫폼의 TypeScript 타입 시스템을 구축합니다. Phase 2 UI 개발에 필요한 임시 타입을 정의하고, Phase 3에서 Supabase 스키마로 교체할 예정입니다.\n\n프로젝트 규칙 준수: TypeScript strict 모드, JSDoc 주석 한국어, @/* 경로 별칭 사용, interface 우선, PascalCase 명명\n",
      "summary": "✅ Task 1 완료 - 핵심 도메인 타입 및 컴포넌트 Props 타입 생성\n\n**완료된 작업:**\n1. ✅ lib/types/ 디렉토리 생성 완료\n2. ✅ lib/types/models.ts 생성 - User, Event, EventParticipant 및 확장 타입(EventWithHost, ParticipantWithUser, EventDetail) 정의 완료\n3. ✅ lib/types/components.ts 생성 - EventCardProps, ParticipantCardProps, EmptyStateProps, NavItem, EventFormData, EventFormProps 정의 완료\n4. ✅ lib/types/index.ts 생성 - 중앙 집중식 export 구조 완료\n5. ✅ 모든 타입에 한국어 JSDoc 주석 추가 완료\n6. ✅ npm run typecheck 성공 (0 errors)\n7. ✅ interface 우선 사용, PascalCase 명명 규칙 준수\n8. ✅ 선택적 필드 '?' 사용, null 허용 필드 '| null' 사용\n9. ✅ union type 사용 (enum 대신)\n10. ✅ 날짜는 string 타입 (ISO 8601 형식)\n\n**검증 결과:**\n- TypeScript 컴파일: ✅ 성공 (0 errors)\n- 파일 구조: ✅ 정확\n- 명명 규칙: ✅ PascalCase 준수\n- JSDoc 주석: ✅ 모든 타입 및 필드에 한국어 주석 추가\n- 타입 안전성: ✅ strict 모드 통과\n\n**다음 단계:** Task 2 (API 응답 타입 및 유틸리티 타입 생성) 진행 가능",
      "completedAt": "2025-10-14T04:44:53.919Z"
    },
    {
      "id": "67cb6926-c6b9-4442-8083-bd4189f5112c",
      "name": "API 응답 타입 및 유틸리티 타입 생성",
      "description": "lib/types/api.ts와 lib/types/utils.ts 파일을 생성하여 API 통신 타입과 재사용 가능한 유틸리티 타입을 정의합니다. 제네릭 타입과 타입 가드 함수를 포함하여 타입 안전성과 재사용성을 확보합니다.",
      "notes": "제네릭 타입 <T>는 재사용성을 위해 사용. discriminated union 패턴은 타입 가드를 용이하게 함. CreateInput, UpdateInput은 CRUD 타입 자동 생성에 유용.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "e9c9163a-fac9-4fb9-b724-67dc94a5b969"
        }
      ],
      "createdAt": "2025-10-14T04:34:58.772Z",
      "updatedAt": "2025-10-14T04:46:22.312Z",
      "relatedFiles": [
        {
          "path": "lib/types/api.ts",
          "type": "CREATE",
          "description": "API 응답 타입: ApiResponse, ApiError, PaginationParams, PaginatedResponse, EventFilters, SortOptions, ListEventsParams",
          "lineStart": 1,
          "lineEnd": 120
        },
        {
          "path": "lib/types/utils.ts",
          "type": "CREATE",
          "description": "유틸리티 타입: CreateInput, UpdateInput, FormState, AsyncState, 타입 가드 함수",
          "lineStart": 1,
          "lineEnd": 100
        },
        {
          "path": "lib/types/index.ts",
          "type": "TO_MODIFY",
          "description": "api, utils re-export 추가",
          "lineStart": 1,
          "lineEnd": 10
        },
        {
          "path": "lib/types/models.ts",
          "type": "DEPENDENCY",
          "description": "Event 타입 참조 (EventFilters에서 사용)",
          "lineStart": 1,
          "lineEnd": 150
        }
      ],
      "implementationGuide": "STEP 1: lib/types/api.ts 생성\n  interface ApiResponse<T = unknown> 정의\n    - data?: T\n    - error?: ApiError\n    - message?: string\n    - JSDoc 주석: 표준 API 응답 래퍼, 제네릭 T 설명\n  \n  interface ApiError 정의\n    - code: string\n    - message: string\n    - details?: Record<string, unknown>\n    - JSDoc 주석: API 에러 응답 구조\n  \n  interface PaginationParams 정의\n    - page: number\n    - limit: number\n    - JSDoc 주석: 페이지네이션 파라미터\n  \n  interface PaginatedResponse<T> 정의\n    - data: T[]\n    - pagination: { page: number; limit: number; total: number; total_pages: number }\n    - JSDoc 주석: 페이지네이션 응답, 제네릭 T 설명\n  \n  interface EventFilters 정의\n    - status?: Event['status']\n    - created_by?: string\n    - search?: string\n    - date_from?: string\n    - date_to?: string\n    - JSDoc 주석: 이벤트 필터 옵션\n  \n  interface SortOptions 정의\n    - field: string\n    - order: 'asc' | 'desc'\n    - JSDoc 주석: 정렬 옵션\n  \n  interface ListEventsParams extends PaginationParams 정의\n    - filters?: EventFilters\n    - sort?: SortOptions\n    - JSDoc 주석: 이벤트 목록 조회 파라미터\n\nSTEP 2: lib/types/utils.ts 생성\n  type CreateInput<T extends { id: string }> 정의\n    - Omit<T, 'id' | 'created_at' | 'updated_at'>\n    - JSDoc 주석: ID가 없는 생성 데이터 타입\n  \n  type UpdateInput<T> 정의\n    - Partial<Omit<T, 'id' | 'created_at' | 'updated_at'>>\n    - JSDoc 주석: 업데이트 데이터 타입 (모든 필드 선택적)\n  \n  interface FormState<T> 정의\n    - data: T\n    - errors: Partial<Record<keyof T, string>>\n    - isSubmitting: boolean\n    - isValid: boolean\n    - JSDoc 주석: 폼 상태 관리 타입\n  \n  type AsyncState<T> 정의 (discriminated union)\n    - { status: 'idle' }\n    - { status: 'loading' }\n    - { status: 'success'; data: T }\n    - { status: 'error'; error: ApiError }\n    - JSDoc 주석: 비동기 상태 타입, 각 상태 설명\n  \n  타입 가드 함수 정의\n    - function isSuccess<T>(state: AsyncState<T>): state is { status: 'success'; data: T }\n    - function isError<T>(state: AsyncState<T>): state is { status: 'error'; error: ApiError }\n    - JSDoc 주석: 타입 가드 함수, 사용 예시\n\nSTEP 3: lib/types/index.ts 업데이트\n  export * from './api' 추가\n  export * from './utils' 추가\n\nSTEP 4: 검증\n  npm run typecheck 실행\n  제네릭 타입 컴파일 확인\n  타입 가드 함수 동작 확인\n  순환 참조 없음 확인",
      "verificationCriteria": "1. lib/types/api.ts 파일 생성 및 모든 API 타입 정의 확인\n2. lib/types/utils.ts 파일 생성 및 유틸리티 타입 정의 확인\n3. 제네릭 타입 <T> 사용 확인 (ApiResponse, PaginatedResponse, AsyncState)\n4. discriminated union 패턴 확인 (AsyncState)\n5. 타입 가드 함수 구현 확인 (isSuccess, isError)\n6. lib/types/index.ts에 re-export 추가 확인\n7. 모든 타입에 한국어 JSDoc 주석 추가 확인\n8. npm run typecheck 성공 (0 errors)\n9. 제네릭 타입 컴파일 정상 동작\n10. 순환 참조 없음",
      "analysisResult": "\nTask 002: 타입 정의 및 인터페이스 설계\n\nGather 플랫폼의 TypeScript 타입 시스템을 구축합니다. Phase 2 UI 개발에 필요한 임시 타입을 정의하고, Phase 3에서 Supabase 스키마로 교체할 예정입니다.\n\n프로젝트 규칙 준수: TypeScript strict 모드, JSDoc 주석 한국어, @/* 경로 별칭 사용, interface 우선, PascalCase 명명\n",
      "summary": "✅ Task 2 완료 - API 응답 타입 및 유틸리티 타입 생성\n\n**완료된 작업:**\n1. ✅ lib/types/api.ts 생성 - ApiResponse, ApiError, PaginationParams, PaginatedResponse, EventFilters, SortOptions, ListEventsParams 정의 완료\n2. ✅ lib/types/utils.ts 생성 - CreateInput, UpdateInput, FormState, AsyncState 타입 및 타입 가드 함수(isSuccess, isError) 정의 완료\n3. ✅ lib/types/index.ts 업데이트 - api, utils re-export 추가 완료\n4. ✅ 제네릭 타입 <T> 사용 (ApiResponse, PaginatedResponse, AsyncState, FormState 등)\n5. ✅ discriminated union 패턴 구현 (AsyncState)\n6. ✅ 타입 가드 함수 구현 (isSuccess, isError)\n7. ✅ 모든 타입에 한국어 JSDoc 주석 및 사용 예시 추가\n8. ✅ npm run typecheck 성공 (0 errors)\n9. ✅ 제네릭 타입 컴파일 정상 동작 확인\n10. ✅ 순환 참조 없음 확인\n\n**검증 결과:**\n- TypeScript 컴파일: ✅ 성공 (0 errors)\n- 파일 구조: ✅ 정확 (api.ts, utils.ts 생성, index.ts 업데이트)\n- 제네릭 타입: ✅ ApiResponse<T>, PaginatedResponse<T>, AsyncState<T>, FormState<T> 정의\n- Discriminated Union: ✅ AsyncState 타입에 status 기반 구분 구현\n- 타입 가드: ✅ isSuccess, isError 함수 구현\n- JSDoc 주석: ✅ 모든 타입, 함수, 속성에 한국어 주석 및 예시 포함\n- 타입 안전성: ✅ strict 모드 통과\n\n**다음 단계:** Task 3 (관리자 타입 생성 및 기존 컴포넌트 타입 중앙화) 진행 가능",
      "completedAt": "2025-10-14T04:46:22.307Z"
    },
    {
      "id": "9af7efcd-48db-4c9f-8ccd-c7aba461cfbe",
      "name": "관리자 타입 생성 및 기존 컴포넌트 타입 중앙화",
      "description": "lib/types/admin.ts 파일을 생성하여 관리자 대시보드 타입을 정의하고, 기존 컴포넌트(EmptyState, MobileNav)의 로컬 타입을 중앙 타입으로 리팩토링합니다. 모든 타입 파일이 완성되면 최종 검증을 수행합니다.",
      "notes": "기존 컴포넌트 리팩토링 시 로직 변경 없이 타입 import만 변경. EmptyStateProps는 LucideIcon 대신 React.ComponentType 사용으로 더 범용적. NavItem에 badge 필드 추가되었지만 선택적이므로 기존 코드 호환성 유지.",
      "status": "completed",
      "dependencies": [
        {
          "taskId": "e9c9163a-fac9-4fb9-b724-67dc94a5b969"
        },
        {
          "taskId": "67cb6926-c6b9-4442-8083-bd4189f5112c"
        }
      ],
      "createdAt": "2025-10-14T04:34:58.772Z",
      "updatedAt": "2025-10-14T04:48:31.706Z",
      "relatedFiles": [
        {
          "path": "lib/types/admin.ts",
          "type": "CREATE",
          "description": "관리자 타입: DashboardMetrics, ChartDataPoint, EventStats, EventTableRow, UserTableRow",
          "lineStart": 1,
          "lineEnd": 80
        },
        {
          "path": "lib/types/index.ts",
          "type": "TO_MODIFY",
          "description": "admin re-export 추가",
          "lineStart": 1,
          "lineEnd": 10
        },
        {
          "path": "components/ui/empty-state.tsx",
          "type": "TO_MODIFY",
          "description": "중앙 타입 import로 변경, 로컬 타입 제거",
          "lineStart": 1,
          "lineEnd": 33
        },
        {
          "path": "components/navigation/mobile-nav.tsx",
          "type": "TO_MODIFY",
          "description": "중앙 타입 import로 변경, 로컬 타입 제거",
          "lineStart": 1,
          "lineEnd": 66
        },
        {
          "path": "lib/types/models.ts",
          "type": "DEPENDENCY",
          "description": "Event, User 타입 참조 (admin.ts에서 extends 사용)",
          "lineStart": 1,
          "lineEnd": 150
        }
      ],
      "implementationGuide": "STEP 1: lib/types/admin.ts 생성\n  interface DashboardMetrics 정의\n    - today_events: number\n    - week_events: number\n    - month_events: number\n    - total_events: number\n    - today_users: number\n    - week_users: number\n    - total_users: number\n    - avg_participants: number\n    - JSDoc 주석: 대시보드 지표 타입, 각 필드 설명\n  \n  interface ChartDataPoint 정의\n    - date: string\n    - value: number\n    - JSDoc 주석: 차트 데이터 포인트\n  \n  interface EventStats 정의\n    - event_trend: ChartDataPoint[]\n    - user_trend: ChartDataPoint[]\n    - JSDoc 주석: 통계 데이터 타입\n  \n  interface EventTableRow extends Event 정의\n    - host_name: string\n    - participant_count: number\n    - JSDoc 주석: 이벤트 관리 테이블 행 타입\n  \n  interface UserTableRow extends User 정의\n    - created_events_count: number\n    - participated_events_count: number\n    - JSDoc 주석: 사용자 관리 테이블 행 타입\n\nSTEP 2: lib/types/index.ts 업데이트\n  export * from './admin' 추가\n\nSTEP 3: components/ui/empty-state.tsx 리팩토링\n  파일 상단에 import { EmptyStateProps } from '@/lib/types' 추가\n  로컬 interface EmptyStateProps 정의 제거 (4-12행)\n  함수 시그니처는 그대로 유지: export function EmptyState({ icon: Icon, title, description, action }: EmptyStateProps)\n  컴포넌트 로직은 변경 없음\n\nSTEP 4: components/navigation/mobile-nav.tsx 리팩토링\n  파일 상단에 import { NavItem } from '@/lib/types' 추가\n  로컬 interface NavItem 정의 제거 (7-11행)\n  const navItems: NavItem[] 배열은 그대로 유지\n  badge 필드는 선택적이므로 기존 코드 수정 불필요\n  컴포넌트 로직은 변경 없음\n\nSTEP 5: 최종 검증\n  npm run typecheck 실행\n  npm run build 실행\n  리팩토링된 컴포넌트 동작 확인\n  import 경로 테스트: import { User, Event, EventCardProps, ApiResponse, DashboardMetrics, CreateInput, AsyncState } from '@/lib/types'\n  순환 참조 확인",
      "verificationCriteria": "1. lib/types/admin.ts 파일 생성 및 모든 관리자 타입 정의 확인\n2. lib/types/index.ts에 admin re-export 추가 확인\n3. components/ui/empty-state.tsx 리팩토링 확인: 중앙 타입 import, 로컬 타입 제거\n4. components/navigation/mobile-nav.tsx 리팩토링 확인: 중앙 타입 import, 로컬 타입 제거\n5. 리팩토링된 컴포넌트 로직 변경 없음 확인\n6. 모든 타입에 한국어 JSDoc 주석 추가 확인\n7. npm run typecheck 성공 (0 errors)\n8. npm run build 성공\n9. 전체 타입 시스템 동작 확인 (import 테스트)\n10. 순환 참조 없음\n11. Phase 1 완료 조건 충족: 모든 타입 파일 생성, JSDoc 주석, 중앙 집중식 export, 타입 안전성 확보",
      "analysisResult": "\nTask 002: 타입 정의 및 인터페이스 설계\n\nGather 플랫폼의 TypeScript 타입 시스템을 구축합니다. Phase 2 UI 개발에 필요한 임시 타입을 정의하고, Phase 3에서 Supabase 스키마로 교체할 예정입니다.\n\n프로젝트 규칙 준수: TypeScript strict 모드, JSDoc 주석 한국어, @/* 경로 별칭 사용, interface 우선, PascalCase 명명\n",
      "summary": "✅ Task 3 완료 - 관리자 타입 생성 및 기존 컴포넌트 타입 중앙화\n\n**완료된 작업:**\n1. ✅ lib/types/admin.ts 생성 - DashboardMetrics, ChartDataPoint, EventStats, EventTableRow, UserTableRow 정의 완료\n2. ✅ lib/types/index.ts 업데이트 - admin re-export 추가 완료\n3. ✅ components/ui/empty-state.tsx 리팩토링 - 중앙 타입 import, 로컬 타입 제거, 로직 변경 없음\n4. ✅ components/navigation/mobile-nav.tsx 리팩토링 - 중앙 타입 import, 로컬 타입 제거, 로직 변경 없음\n5. ✅ 모든 타입에 한국어 JSDoc 주석 추가 완료\n6. ✅ npm run typecheck 성공 (0 errors)\n7. ✅ npm run build 성공 (24 routes compiled)\n8. ✅ npm run check-all 성공 (typecheck + lint + format 모두 통과)\n9. ✅ 순환 참조 없음\n10. ✅ 리팩토링된 컴포넌트 동작 유지 (로직 변경 없음)\n\n**검증 결과:**\n- 관리자 타입: ✅ 5개 인터페이스 정의 완료\n- 중앙 집중식 export: ✅ models, components, api, utils, admin 모두 export\n- 컴포넌트 리팩토링: ✅ 2개 컴포넌트 중앙 타입으로 변경\n- TypeScript 컴파일: ✅ 성공 (0 errors)\n- 프로덕션 빌드: ✅ 성공 (24 routes)\n- 코드 품질: ✅ ESLint + Prettier 모두 통과\n- 타입 안전성: ✅ strict 모드 통과\n\n**Phase 1 완료 조건 충족:**\n✅ 모든 타입 파일 생성 (models, components, api, utils, admin)\n✅ JSDoc 주석 모든 타입에 추가\n✅ 중앙 집중식 export 구조 완성\n✅ 타입 안전성 확보 (strict 모드, 0 errors)\n✅ 기존 컴포넌트 리팩토링 완료\n\n**다음 단계:** Phase 2 (UI 개발) 진행 가능",
      "completedAt": "2025-10-14T04:48:31.704Z"
    }
  ]
}