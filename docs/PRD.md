# Gather - 일회성 이벤트 관리 플랫폼 MVP PRD

## 🎯 핵심 정보

**목적**: 초대 링크 하나로 생일 파티, 워크샵, 세미나 등 소규모 일회성 이벤트를 간편하게 관리하는 플랫폼
**사용자**: 5-30명 규모의 이벤트 주최자, 이벤트 참여자, 플랫폼 관리자

## 🚶 사용자 여정

### 주최자 여정 (모바일 퍼스트)
```
1. 홈 페이지
   ↓ Google 로그인 (이미 로그인 시 자동 건너뛰기)

2. 내 이벤트 목록 페이지
   ↓ "새 이벤트 만들기" 버튼 클릭

3. 이벤트 생성 페이지
   ↓ 제목, 날짜, 장소, 커버 이미지 입력 후 "생성" 버튼

4. 이벤트 상세 페이지
   ↓ 자동 생성된 초대 링크 표시

5. 초대 링크 공유
   ↓ 카카오톡, 문자 등으로 링크 공유

6. 실시간 참여자 목록 확인
   ↓ Supabase Realtime으로 자동 업데이트

7. [완료] → 이벤트 수정/삭제 또는 목록으로 돌아가기
```

### 참여자 여정 (모바일 퍼스트)
```
1. 초대 링크 클릭
   ↓ /join/abc123 페이지로 이동

2. 이벤트 미리보기 페이지
   ↓ 이벤트 정보 확인 (제목, 날짜, 장소, 커버 이미지)

3. [미로그인 사용자] → Google 로그인 페이지 → 로그인 완료
   [로그인 사용자] → 자동으로 다음 단계
   ↓ 로그인 후 자동 참여 처리

4. 이벤트 상세 페이지
   ↓ "참여 완료!" 메시지 표시

5. 참여자 목록 확인
   ↓ 실시간으로 다른 참여자 프로필 확인

6. [완료] → 내가 참여한 이벤트 목록 페이지로 이동
```

### 관리자 여정 (데스크톱)
```
1. 관리자 로그인 페이지 (/admin/login)
   ↓ 관리자 계정으로 로그인 (role: admin)

2. 관리자 대시보드 메인 페이지
   ↓ 주요 지표 카드 확인 (오늘/이번 주/이번 달/전체)

3. [분기 A] 이벤트 관리
   → 이벤트 관리 테이블 페이지 → 검색/필터/삭제

   [분기 B] 사용자 관리
   → 사용자 관리 테이블 페이지 → 검색/필터/삭제

   [분기 C] 통계 분석
   → 통계 분석 페이지 → 그래프 및 추이 확인
   ↓

4. [완료] → 대시보드 메인으로 돌아가기 또는 로그아웃
```

## ⚡ 기능 명세

### 1. MVP 핵심 기능

| ID | 기능명 | 설명 | MVP 필수 이유 | 관련 페이지 |
|----|--------|------|-------------|------------|
| **F001** | 이벤트 생성 | 제목, 설명, 날짜, 장소, 커버 이미지를 입력하여 이벤트 생성 | 플랫폼 핵심 가치 제공 | 이벤트 생성 페이지 |
| **F002** | 초대 링크 자동 생성 | 이벤트 생성 시 고유 초대 코드(invite_code) 자동 생성 (예: gather.app/join/abc123) | 공유 기능의 핵심 메커니즘 | 이벤트 상세 페이지 |
| **F003** | 초대 링크 공유 | 생성된 초대 링크를 카카오톡, 문자, 클립보드 복사로 공유 | 참여자 유입의 유일한 경로 | 이벤트 상세 페이지 |
| **F004** | 초대 링크 참여 | 초대 링크 클릭 시 이벤트 미리보기 → 로그인 → 자동 참여 | 참여자 온보딩의 핵심 UX | 초대 링크 참여 페이지 |
| **F005** | 실시간 참여자 목록 | Supabase Realtime으로 참여자가 추가되면 즉시 목록 업데이트 | 이벤트 현황 파악의 핵심 기능 | 이벤트 상세 페이지 |
| **F006** | 이벤트 수정/삭제 | 주최자가 이벤트 정보 수정 또는 삭제 (참여자는 불가) | 이벤트 관리의 기본 기능 | 이벤트 상세 페이지, 이벤트 수정 페이지 |
| **F007** | 내 이벤트 목록 조회 | 주최자: 내가 만든 이벤트 / 참여자: 내가 참여한 이벤트 카드 리스트 | 사용자 메인 화면의 핵심 | 내 이벤트 목록 페이지 |
| **F008** | 이벤트 상태 관리 | 이벤트 날짜 기준으로 예정/진행 중/종료 자동 분류 | 이벤트 현황 파악 및 필터링 | 내 이벤트 목록 페이지, 이벤트 상세 페이지 |
| **F009** | 커버 이미지 업로드 | Supabase Storage를 사용한 이벤트 커버 이미지 업로드 | 이벤트 시각적 표현의 핵심 | 이벤트 생성 페이지, 이벤트 수정 페이지 |

### 2. MVP 필수 지원 기능

| ID | 기능명 | 설명 | MVP 필수 이유 | 관련 페이지 |
|----|--------|------|-------------|------------|
| **F010** | Google OAuth 로그인 | Google 계정으로 3초 만에 회원가입/로그인 (이미 구현됨 ✅) | 서비스 이용을 위한 최소 인증 | 로그인 페이지 |
| **F011** | 사용자 프로필 관리 | 이름, 프로필 사진 기본 정보만 관리 (Google OAuth에서 자동 가져오기) | 참여자 식별을 위한 필수 데이터 | 프로필 페이지 |
| **F012** | 관리자 대시보드 메인 | 주요 지표 카드 (오늘/이번 주/이번 달/전체 이벤트 수, 사용자 수) | 플랫폼 관리 및 모니터링 | 관리자 대시보드 페이지 |
| **F013** | 이벤트 관리 테이블 | 전체 이벤트 검색, 필터, 삭제 기능 | 관리자의 이벤트 관리 | 관리자 이벤트 관리 페이지 |
| **F014** | 사용자 관리 테이블 | 전체 사용자 검색, 필터, 삭제 기능 | 관리자의 사용자 관리 | 관리자 사용자 관리 페이지 |
| **F015** | 통계 그래프 | 이벤트 생성 추이, 사용자 증가 추이 그래프 (최근 7일) | 플랫폼 성장 모니터링 | 관리자 통계 분석 페이지 |

### 3. MVP 이후 기능 (Phase 2로 연기)

- **정산 관리 (F101)**: 정산 항목 생성, N분의 1 자동 계산, 송금 완료 체크리스트
- **카풀 관리 (F102)**: 운전자 등록, 탑승자 신청/배정, 카풀 현황 조회
- **알림 시스템 (F103)**: 이메일 알림, 푸시 알림 (새 이벤트, 리마인더)
- **이벤트 공지 (F104)**: 이벤트별 간단한 공지사항
- **고급 검색 및 필터링**: 날짜 범위, 장소 기반 검색
- **소셜 기능**: 팔로우, 좋아요, 댓글
- **프로필 상세 관리**: 아바타 커스터마이징, 자기소개, 관심사
- **설정 기능**: 테마, 언어, 알림 설정

---

## 📱 메뉴 구조

```
📱 Gather 모바일 내비게이션 (주최자/참여자)

홈 화면 (비로그인 시)
├── 🏠 랜딩 페이지
│   └── 기능: F001 (서비스 소개, 주요 기능 안내)
└── 👤 로그인
    └── 기능: F010 (Google OAuth 로그인)

📱 메인 내비게이션 (로그인 후)
├── 🗓️ 내 이벤트
│   └── 기능: F007, F008 (내가 만든/참여한 이벤트 카드 리스트, 상태별 필터)
├── ➕ 새 이벤트 만들기
│   └── 기능: F001, F009 (이벤트 생성 폼, 커버 이미지 업로드)
└── 👤 프로필
    └── 기능: F011 (기본 프로필 정보 확인/수정)

🎫 이벤트 상세 메뉴 (이벤트 페이지 내)
├── 📋 이벤트 정보
│   └── 기능: F001, F009 (제목, 날짜, 장소, 커버 이미지 표시)
├── 👥 참여자 목록
│   └── 기능: F005 (실시간 참여자 목록, 프로필 사진/이름 표시)
├── 🔗 초대 링크 공유
│   └── 기능: F002, F003 (초대 링크 생성, 카카오톡/문자/복사 공유)
└── ⚙️ 이벤트 관리 (주최자만)
    └── 기능: F006 (이벤트 수정/삭제)

---

💻 관리자 데스크톱 내비게이션

🔐 관리자 인증
└── 🔑 관리자 로그인
    └── 기능: F010 (관리자 계정 로그인, role: admin 체크)

📊 관리자 대시보드 사이드바
├── 🏠 대시보드 메인
│   └── 기능: F012 (주요 지표 카드, 오늘/이번 주/이번 달/전체)
├── 🎫 이벤트 관리
│   └── 기능: F013 (전체 이벤트 테이블, 검색/필터/삭제)
├── 👥 사용자 관리
│   └── 기능: F014 (전체 사용자 테이블, 검색/필터/삭제)
├── 📈 통계 분석
│   └── 기능: F015 (이벤트 생성 추이, 사용자 증가 그래프)
└── 🚪 로그아웃
```

---

## 📄 페이지별 상세 기능

### 1. 홈 페이지 (랜딩 페이지)

> **구현 기능:** `F001` (서비스 소개) | **인증:** 불필요 | **메뉴 위치:** 루트 경로

| 항목 | 내용 |
|------|------|
| **역할** | 비로그인 사용자를 위한 서비스 소개 및 로그인 유도 페이지 |
| **진입 경로** | 브라우저에서 직접 접속 (첫 방문 시) |
| **사용자 행동** | 서비스 소개 확인 후 Google 로그인 버튼 클릭 |
| **주요 기능** | • 서비스 핵심 가치 제안 (3가지 주요 기능 카드)<br>• 사용 방법 설명 (주최자/참여자 플로우)<br>• **"Google로 시작하기"** 버튼 (F010) |
| **다음 이동** | 로그인 성공 → 내 이벤트 목록 페이지 |

---

### 2. 로그인 페이지

> **구현 기능:** `F010` | **인증:** 불필요 | **메뉴 위치:** 홈 화면

| 항목 | 내용 |
|------|------|
| **역할** | Google OAuth를 통한 회원가입/로그인 전용 페이지 (이미 구현됨 ✅) |
| **진입 경로** | 홈 페이지에서 "Google로 시작하기" 버튼 클릭, 또는 미로그인 상태에서 보호된 페이지 접근 시 자동 리디렉션 |
| **사용자 행동** | Google 계정 선택 및 권한 동의 |
| **주요 기능** | • Google OAuth 로그인 버튼<br>• 자동 회원가입 (첫 로그인 시)<br>• 프로필 정보 자동 가져오기 (이름, 이메일, 프로필 사진) |
| **다음 이동** | 로그인 성공 → 내 이벤트 목록 페이지<br>초대 링크에서 온 경우 → 초대 링크 참여 페이지 (자동 참여 처리) |

---

### 3. 내 이벤트 목록 페이지

> **구현 기능:** `F007`, `F008` | **인증:** 필수 | **메뉴 위치:** 메인 내비게이션

| 항목 | 내용 |
|------|------|
| **역할** | 로그인 후 메인 화면, 주최자는 내가 만든 이벤트, 참여자는 내가 참여한 이벤트 카드 리스트 표시 |
| **진입 경로** | 로그인 성공 후 자동 이동, 또는 하단 내비게이션 바에서 "내 이벤트" 탭 클릭 |
| **사용자 행동** | 이벤트 카드 스크롤, 상태별 필터 선택, 이벤트 카드 클릭하여 상세 페이지 이동 |
| **주요 기능** | • 이벤트 카드 리스트 (커버 이미지, 제목, 날짜, 참여자 수 표시)<br>• 상태별 필터 탭 (전체/예정/진행 중/종료) - F008<br>• 플로팅 **"+ 새 이벤트 만들기"** 버튼<br>• 빈 상태 UI (이벤트가 없을 때) |
| **다음 이동** | 이벤트 카드 클릭 → 이벤트 상세 페이지<br>"새 이벤트 만들기" 버튼 → 이벤트 생성 페이지 |

---

### 4. 이벤트 생성 페이지

> **구현 기능:** `F001`, `F009` | **인증:** 필수 | **메뉴 위치:** 메인 내비게이션

| 항목 | 내용 |
|------|------|
| **역할** | 새로운 이벤트를 생성하는 폼 페이지 |
| **진입 경로** | 내 이벤트 목록 페이지에서 "+ 새 이벤트 만들기" 버튼 클릭 |
| **사용자 행동** | 이벤트 정보 입력 (필수 항목) 후 "생성" 버튼 클릭 |
| **주요 기능** | • 커버 이미지 업로드 (Supabase Storage) - F009<br>• 이벤트 제목 입력 (필수, 최대 50자)<br>• 이벤트 설명 입력 (선택, 최대 500자)<br>• 이벤트 날짜/시간 선택 (필수)<br>• 장소 입력 (필수, 최대 100자)<br>• **"이벤트 생성"** 버튼<br>• 입력 유효성 검사 (빈 필수 항목 체크) |
| **다음 이동** | 생성 성공 → 이벤트 상세 페이지 (초대 링크 자동 생성)<br>생성 실패 → 에러 메시지 표시 |

---

### 5. 이벤트 상세 페이지

> **구현 기능:** `F001`, `F002`, `F003`, `F005`, `F006`, `F008`, `F009` | **인증:** 필수 | **메뉴 위치:** 이벤트 카드 클릭 시

| 항목 | 내용 |
|------|------|
| **역할** | 이벤트의 모든 정보를 확인하고, 초대 링크 공유, 참여자 목록 확인, 이벤트 관리 기능 제공 |
| **진입 경로** | 내 이벤트 목록 페이지에서 이벤트 카드 클릭, 또는 초대 링크 참여 후 자동 이동 |
| **사용자 행동** | 이벤트 정보 확인, 초대 링크 복사/공유, 참여자 목록 확인, 주최자는 수정/삭제 |
| **주요 기능** | • 커버 이미지 표시 - F009<br>• 이벤트 정보 (제목, 날짜, 장소, 설명) - F001<br>• 이벤트 상태 뱃지 (예정/진행 중/종료) - F008<br>• **초대 링크 공유 버튼** (클립보드 복사, 카카오톡, 문자) - F002, F003<br>• 실시간 참여자 목록 (프로필 사진, 이름, 역할) - F005<br>• 참여자 수 카운트 표시<br>• [주최자만] **"이벤트 수정"**, **"이벤트 삭제"** 버튼 - F006 |
| **다음 이동** | "이벤트 수정" 버튼 → 이벤트 수정 페이지<br>"이벤트 삭제" 버튼 → 확인 다이얼로그 → 삭제 성공 시 내 이벤트 목록 페이지 |

---

### 6. 이벤트 수정 페이지

> **구현 기능:** `F001`, `F006`, `F009` | **인증:** 필수 (주최자만) | **메뉴 위치:** 이벤트 상세 페이지

| 항목 | 내용 |
|------|------|
| **역할** | 주최자가 이벤트 정보를 수정하는 폼 페이지 |
| **진입 경로** | 이벤트 상세 페이지에서 "이벤트 수정" 버튼 클릭 (주최자만 표시) |
| **사용자 행동** | 기존 정보 수정 후 "수정 완료" 버튼 클릭 |
| **주요 기능** | • 기존 이벤트 정보 자동 채우기<br>• 커버 이미지 변경 (Supabase Storage) - F009<br>• 제목, 설명, 날짜, 장소 수정<br>• **"수정 완료"** 버튼<br>• 입력 유효성 검사 |
| **다음 이동** | 수정 성공 → 이벤트 상세 페이지<br>수정 실패 → 에러 메시지 표시 |

---

### 7. 초대 링크 참여 페이지 (/join/[invite_code])

> **구현 기능:** `F002`, `F004`, `F010` | **인증:** 조건부 (비로그인 시 로그인 유도) | **메뉴 위치:** 외부 링크

| 항목 | 내용 |
|------|------|
| **역할** | 초대 링크를 통해 이벤트에 참여하는 전용 페이지 |
| **진입 경로** | 카카오톡, 문자 등에서 공유된 초대 링크 클릭 (예: gather.app/join/abc123) |
| **사용자 행동** | 이벤트 미리보기 확인 → [비로그인 시] Google 로그인 → 자동 참여 → 이벤트 상세 페이지로 이동 |
| **주요 기능** | • 초대 코드 유효성 검사 (존재하지 않는 코드 체크)<br>• 이벤트 미리보기 (커버 이미지, 제목, 날짜, 장소)<br>• 주최자 정보 표시<br>• **[비로그인 사용자]** **"Google로 참여하기"** 버튼 - F010<br>• **[로그인 사용자]** 자동 참여 처리 (event_participants 테이블 추가) - F004<br>• 이미 참여한 경우 "이미 참여한 이벤트입니다" 메시지 표시 |
| **다음 이동** | 로그인 후 → 자동 참여 처리 → 이벤트 상세 페이지 ("참여 완료!" 메시지 표시)<br>유효하지 않은 코드 → 404 에러 페이지 |

---

### 8. 프로필 페이지

> **구현 기능:** `F011` | **인증:** 필수 | **메뉴 위치:** 메인 내비게이션

| 항목 | 내용 |
|------|------|
| **역할** | 사용자의 기본 프로필 정보 확인 및 수정 페이지 |
| **진입 경로** | 하단 내비게이션 바에서 "프로필" 탭 클릭 |
| **사용자 행동** | 프로필 정보 확인, 이름 수정 |
| **주요 기능** | • 프로필 사진 표시 (Google OAuth에서 자동 가져오기)<br>• 이름 표시/수정 (최대 50자)<br>• 이메일 표시 (수정 불가)<br>• 가입일 표시<br>• **"로그아웃"** 버튼 |
| **다음 이동** | 로그아웃 → 홈 페이지 (랜딩 페이지) |

---

### 9. 관리자 로그인 페이지 (/admin/login)

> **구현 기능:** `F010` (role: admin 체크) | **인증:** 불필요 | **메뉴 위치:** 관리자 전용

| 항목 | 내용 |
|------|------|
| **역할** | 관리자 계정으로 로그인하는 전용 페이지 (일반 사용자 접근 차단) |
| **진입 경로** | 브라우저에서 직접 접속 (/admin/login) |
| **사용자 행동** | 관리자 계정으로 Google 로그인 |
| **주요 기능** | • Google OAuth 로그인<br>• 로그인 후 role 체크 (role !== 'admin'이면 접근 거부)<br>• 일반 사용자 로그인 시 "관리자 권한이 없습니다" 에러 표시 |
| **다음 이동** | 관리자 로그인 성공 → 관리자 대시보드 메인 페이지<br>일반 사용자 로그인 → 에러 메시지 표시 후 로그아웃 |

---

### 10. 관리자 대시보드 메인 페이지 (/admin/dashboard)

> **구현 기능:** `F012` | **인증:** 필수 (role: admin) | **메뉴 위치:** 관리자 사이드바

| 항목 | 내용 |
|------|------|
| **역할** | 플랫폼 전체 주요 지표를 카드 형태로 표시하는 메인 대시보드 |
| **진입 경로** | 관리자 로그인 성공 후 자동 이동, 또는 사이드바에서 "대시보드 메인" 클릭 |
| **사용자 행동** | 주요 지표 확인, 다른 관리 페이지로 이동 |
| **주요 기능** | • **오늘 생성된 이벤트 수** 카드<br>• **이번 주 생성된 이벤트 수** 카드<br>• **이번 달 생성된 이벤트 수** 카드<br>• **전체 이벤트 수** 카드<br>• **오늘 가입한 사용자 수** 카드<br>• **이번 주 가입한 사용자 수** 카드<br>• **전체 사용자 수** 카드<br>• 빠른 링크 (이벤트 관리, 사용자 관리, 통계 분석) |
| **다음 이동** | 카드 클릭 → 해당 관리 페이지 (이벤트 관리, 사용자 관리, 통계 분석) |

---

### 11. 관리자 이벤트 관리 페이지 (/admin/events)

> **구현 기능:** `F013` | **인증:** 필수 (role: admin) | **메뉴 위치:** 관리자 사이드바

| 항목 | 내용 |
|------|------|
| **역할** | 전체 이벤트를 테이블 형태로 확인하고, 검색/필터/삭제 기능 제공 |
| **진입 경로** | 관리자 사이드바에서 "이벤트 관리" 클릭 |
| **사용자 행동** | 이벤트 검색, 상태별 필터링, 이벤트 삭제 |
| **주요 기능** | • 전체 이벤트 테이블 (제목, 주최자, 날짜, 참여자 수, 상태, 생성일)<br>• 검색 기능 (제목, 주최자 이름으로 검색)<br>• 상태별 필터 (전체/예정/진행 중/종료)<br>• 날짜 범위 필터<br>• **"삭제"** 버튼 (각 행마다)<br>• 페이지네이션 (20개씩)<br>• 정렬 기능 (날짜, 참여자 수 기준) |
| **다음 이동** | 이벤트 행 클릭 → 이벤트 상세 페이지 (읽기 전용)<br>삭제 버튼 → 확인 다이얼로그 → 삭제 성공 시 테이블 새로고침 |

---

### 12. 관리자 사용자 관리 페이지 (/admin/users)

> **구현 기능:** `F014` | **인증:** 필수 (role: admin) | **메뉴 위치:** 관리자 사이드바

| 항목 | 내용 |
|------|------|
| **역할** | 전체 사용자를 테이블 형태로 확인하고, 검색/필터/삭제 기능 제공 |
| **진입 경로** | 관리자 사이드바에서 "사용자 관리" 클릭 |
| **사용자 행동** | 사용자 검색, 역할별 필터링, 사용자 삭제 |
| **주요 기능** | • 전체 사용자 테이블 (프로필 사진, 이름, 이메일, 역할, 가입일, 생성한 이벤트 수, 참여한 이벤트 수)<br>• 검색 기능 (이름, 이메일로 검색)<br>• 역할별 필터 (전체/일반 사용자/관리자)<br>• **"삭제"** 버튼 (각 행마다, 자신은 삭제 불가)<br>• 페이지네이션 (20개씩)<br>• 정렬 기능 (가입일, 이벤트 수 기준) |
| **다음 이동** | 사용자 행 클릭 → 사용자 프로필 상세 페이지 (읽기 전용)<br>삭제 버튼 → 확인 다이얼로그 → 삭제 성공 시 테이블 새로고침 |

---

### 13. 관리자 통계 분석 페이지 (/admin/analytics)

> **구현 기능:** `F015` | **인증:** 필수 (role: admin) | **메뉴 위치:** 관리자 사이드바

| 항목 | 내용 |
|------|------|
| **역할** | 이벤트 생성 추이, 사용자 증가 추이를 그래프로 시각화하는 페이지 |
| **진입 경로** | 관리자 사이드바에서 "통계 분석" 클릭 |
| **사용자 행동** | 그래프 확인, 기간 필터 선택 |
| **주요 기능** | • **이벤트 생성 추이 그래프** (최근 7일, Line Chart)<br>• **사용자 증가 추이 그래프** (최근 7일, Line Chart)<br>• 기간 선택 드롭다운 (최근 7일/최근 30일/최근 90일)<br>• 주요 지표 요약 카드 (총 이벤트 수, 총 사용자 수, 평균 참여자 수)<br>• Recharts 라이브러리 사용 |
| **다음 이동** | 없음 (페이지 내에서 완결) |

---

## 🗄️ 데이터 모델

### users (사용자 정보)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID (PK) |
| email | 이메일 주소 | TEXT UNIQUE |
| name | 사용자 이름 | TEXT |
| avatar_url | 프로필 사진 URL | TEXT |
| role | 사용자 역할 | TEXT ('user', 'admin') |
| created_at | 가입일 | TIMESTAMP |
| updated_at | 수정일 | TIMESTAMP |

### events (이벤트 정보)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID (PK) |
| title | 이벤트 제목 | TEXT |
| description | 이벤트 설명 | TEXT |
| location | 이벤트 장소 | TEXT |
| event_date | 이벤트 날짜/시간 | TIMESTAMP |
| cover_image_url | 커버 이미지 URL | TEXT |
| invite_code | 초대 코드 (고유) | TEXT UNIQUE |
| status | 이벤트 상태 | TEXT ('upcoming', 'ongoing', 'ended') |
| created_by | 주최자 | → users.id (FK) |
| created_at | 생성일 | TIMESTAMP |
| updated_at | 수정일 | TIMESTAMP |

### event_participants (이벤트 참여자 정보)
| 필드 | 설명 | 타입/관계 |
|------|------|----------|
| id | 고유 식별자 | UUID (PK) |
| event_id | 이벤트 ID | → events.id (FK) |
| user_id | 사용자 ID | → users.id (FK) |
| role | 참여자 역할 | TEXT ('host', 'participant') |
| joined_at | 참여일 | TIMESTAMP |

**관계 정의**:
- `users` 1:N `events` (created_by) - 한 사용자가 여러 이벤트 생성 가능
- `events` 1:N `event_participants` (event_id) - 한 이벤트에 여러 참여자
- `users` 1:N `event_participants` (user_id) - 한 사용자가 여러 이벤트 참여 가능
- `event_participants`의 (event_id, user_id) 조합은 UNIQUE (중복 참여 방지)

**인덱스**:
- `events.invite_code` (UNIQUE INDEX) - 초대 링크 빠른 조회
- `events.created_by` (INDEX) - 주최자의 이벤트 조회 최적화
- `event_participants.event_id` (INDEX) - 이벤트의 참여자 목록 조회 최적화
- `event_participants.user_id` (INDEX) - 사용자의 참여 이벤트 조회 최적화

---

## 🛠️ 기술 스택 (최신 버전)

### 🎨 프론트엔드 프레임워크

- **Next.js 15** (App Router) - React 풀스택 프레임워크 (이미 설치됨 ✅)
- **TypeScript 5.6+** - 타입 안전성 보장 (이미 설치됨 ✅)
- **React 19** - UI 라이브러리 (이미 설치됨 ✅)

### 🎨 스타일링 & UI

- **Tailwind CSS v4** (설정파일 없는 새로운 엔진) - 유틸리티 CSS 프레임워크 (이미 설치됨 ✅)
- **shadcn/ui** (new-york 스타일) - 고품질 React 컴포넌트 라이브러리 (이미 설치됨 ✅)
  - Button, Card, Input, Label, Dropdown Menu, Checkbox 등 (이미 설치됨 ✅)
- **Lucide React** - 아이콘 라이브러리 (이미 설치됨 ✅)
- **next-themes 0.4.6** - 다크 모드 지원 (이미 설치됨 ✅)
- **class-variance-authority** - 컴포넌트 variant 관리 (이미 설치됨 ✅)
- **tailwind-merge** - Tailwind 클래스 충돌 해결 (이미 설치됨 ✅)
- **clsx** - 클래스명 조건부 결합 (이미 설치됨 ✅)

### 📝 폼 & 검증 (추가 필요)

- **React Hook Form 7.x** - 폼 상태 관리
- **Zod** - 스키마 검증 라이브러리

### 🗄️ 백엔드 & 데이터베이스

- **Supabase** - BaaS (인증, 데이터베이스, Storage, Realtime) (이미 설치됨 ✅)
  - `@supabase/ssr` - Next.js SSR 지원 (이미 설치됨 ✅)
  - `@supabase/supabase-js` - Supabase 클라이언트 (이미 설치됨 ✅)
- **PostgreSQL** - 관계형 데이터베이스 (Supabase 포함)

### 📊 차트 & 데이터 시각화 (추가 필요)

- **Recharts 2.x** - React 차트 라이브러리 (관리자 통계 그래프용)

### 🚀 배포 & 호스팅

- **Vercel** - Next.js 15 최적화 배포 플랫폼 (권장)

### 📦 패키지 관리 & 코드 품질 (이미 설정됨 ✅)

- **npm** - 의존성 관리
- **ESLint 9** - 코드 검사 (이미 설치됨 ✅)
- **Prettier 3.6.2** - 코드 포맷팅 (이미 설치됨 ✅)
- **Husky 9.1.7** - Git Hooks (이미 설치됨 ✅)
- **lint-staged 16.2.4** - 스테이지된 파일 검사 (이미 설치됨 ✅)

---

## ✅ 정합성 검증 체크리스트

### 🔍 1단계: 기능 명세 → 페이지 연결 검증

- [x] F001 (이벤트 생성) → 이벤트 생성 페이지, 이벤트 상세 페이지, 이벤트 수정 페이지
- [x] F002 (초대 링크 자동 생성) → 이벤트 상세 페이지, 초대 링크 참여 페이지
- [x] F003 (초대 링크 공유) → 이벤트 상세 페이지
- [x] F004 (초대 링크 참여) → 초대 링크 참여 페이지
- [x] F005 (실시간 참여자 목록) → 이벤트 상세 페이지
- [x] F006 (이벤트 수정/삭제) → 이벤트 상세 페이지, 이벤트 수정 페이지
- [x] F007 (내 이벤트 목록 조회) → 내 이벤트 목록 페이지
- [x] F008 (이벤트 상태 관리) → 내 이벤트 목록 페이지, 이벤트 상세 페이지
- [x] F009 (커버 이미지 업로드) → 이벤트 생성 페이지, 이벤트 수정 페이지, 이벤트 상세 페이지
- [x] F010 (Google OAuth 로그인) → 로그인 페이지, 초대 링크 참여 페이지, 관리자 로그인 페이지
- [x] F011 (사용자 프로필 관리) → 프로필 페이지
- [x] F012 (관리자 대시보드 메인) → 관리자 대시보드 메인 페이지
- [x] F013 (이벤트 관리 테이블) → 관리자 이벤트 관리 페이지
- [x] F014 (사용자 관리 테이블) → 관리자 사용자 관리 페이지
- [x] F015 (통계 그래프) → 관리자 통계 분석 페이지

### 🔍 2단계: 메뉴 구조 → 페이지 연결 검증

- [x] 랜딩 페이지 → 홈 페이지 (F001)
- [x] 로그인 → 로그인 페이지 (F010)
- [x] 내 이벤트 → 내 이벤트 목록 페이지 (F007, F008)
- [x] 새 이벤트 만들기 → 이벤트 생성 페이지 (F001, F009)
- [x] 프로필 → 프로필 페이지 (F011)
- [x] 이벤트 정보 → 이벤트 상세 페이지 (F001, F009)
- [x] 참여자 목록 → 이벤트 상세 페이지 (F005)
- [x] 초대 링크 공유 → 이벤트 상세 페이지 (F002, F003)
- [x] 이벤트 관리 → 이벤트 상세 페이지 (F006)
- [x] 관리자 로그인 → 관리자 로그인 페이지 (F010)
- [x] 대시보드 메인 → 관리자 대시보드 메인 페이지 (F012)
- [x] 이벤트 관리 → 관리자 이벤트 관리 페이지 (F013)
- [x] 사용자 관리 → 관리자 사용자 관리 페이지 (F014)
- [x] 통계 분석 → 관리자 통계 분석 페이지 (F015)

### 🔍 3단계: 페이지별 상세 기능 → 역참조 검증

- [x] 모든 페이지의 구현 기능 ID가 기능 명세에 정의되어 있음
- [x] 모든 페이지가 메뉴 구조에서 접근 가능함

### 🔍 4단계: 누락 및 고아 항목 검증

- [x] 기능 명세에만 있고 페이지에서 구현되지 않은 기능 없음
- [x] 페이지에만 있고 기능 명세에 정의되지 않은 기능 없음
- [x] 메뉴에만 있고 실제 페이지가 없는 항목 없음

**✅ 모든 검증 통과: 문서 정합성 확인 완료**

---

## 📐 UI/UX 디자인 가이드

### 모바일 디자인 원칙 (주최자/참여자)

**디자인 참고**: 럭키밀(luckymeal.io) 스타일의 깔끔하고 직관적인 카드 UI

| 항목 | 가이드라인 |
|------|----------|
| **컬러 팔레트** | Primary: `#10B981` (Emerald 500)<br>Background: `#FFFFFF` (Light Mode), `#1F2937` (Dark Mode)<br>Accent: `#F59E0B` (Amber 500) |
| **레이아웃** | 단일 컬럼 레이아웃 (모바일 최적화)<br>카드 간격: 16px<br>좌우 패딩: 16px |
| **카드 스타일** | Border Radius: 16px<br>Shadow: `shadow-md` (Tailwind)<br>커버 이미지 비율: 16:9<br>카드 내부 패딩: 16px |
| **버튼** | 높이: 최소 48px (터치 영역 확보)<br>Border Radius: 12px<br>Primary 버튼: Emerald 500 배경, 흰색 텍스트<br>Secondary 버튼: Gray 200 배경, Gray 800 텍스트 |
| **타이포그래피** | 제목 (H1): 24px, Bold, Gray 900<br>제목 (H2): 20px, Bold, Gray 800<br>본문: 16px, Regular, Gray 700<br>캡션: 14px, Regular, Gray 500 |
| **아이콘** | Lucide React 사용<br>크기: 20-24px<br>색상: Gray 600 (기본), Primary (활성) |
| **하단 내비게이션** | 고정 하단 바 (4개 탭)<br>높이: 64px<br>아이콘 + 텍스트 조합 |

### 데스크톱 디자인 원칙 (관리자)

| 항목 | 가이드라인 |
|------|----------|
| **레이아웃** | 좌측 사이드바 (240px) + 메인 콘텐츠 (나머지)<br>사이드바 배경: Gray 900<br>메인 배경: Gray 50 |
| **사이드바** | 로고 영역: 64px 높이<br>메뉴 항목: 48px 높이, 16px 좌우 패딩<br>활성 메뉴: Primary 배경, 흰색 텍스트 |
| **테이블** | 행 높이: 56px<br>헤더 배경: Gray 100<br>Hover: Gray 50<br>페이지네이션: 하단 중앙 정렬 |
| **차트** | Recharts 사용<br>Line Chart: Emerald 500 선<br>툴팁: 흰색 배경, Shadow-lg |
| **지표 카드** | Border Radius: 12px<br>Shadow: shadow-sm<br>내부 패딩: 24px<br>아이콘 크기: 32px |

---

## 📅 개발 Sprint 계획 (6주)

### Sprint 1 (1주): 기본 인프라 & 데이터베이스 ✅

**목표**: Supabase 설정, 데이터베이스 스키마 생성, 기본 레이아웃 구축

- [x] Supabase 프로젝트 생성 및 환경 변수 설정 (이미 완료 ✅)
- [ ] 데이터베이스 스키마 생성 (users, events, event_participants)
- [ ] Row Level Security (RLS) 정책 설정
- [ ] Supabase Storage 버킷 생성 (event-covers)
- [ ] 모바일 레이아웃 구조 (하단 내비게이션 바)
- [ ] shadcn/ui 컴포넌트 추가 (Card, Avatar, Dialog, Toast)
- [x] Google OAuth 테스트 (이미 완료 ✅)

**검증 기준**: 데이터베이스 스키마 생성 완료, 기본 레이아웃 표시

---

### Sprint 2 (1주): 주최자 핵심 기능 (모바일)

**목표**: 이벤트 생성, 초대 링크 생성, 이벤트 목록 조회

- [ ] 내 이벤트 목록 페이지 구현 (F007, F008)
  - 이벤트 카드 컴포넌트
  - 상태별 필터 탭
  - 빈 상태 UI
- [ ] 이벤트 생성 페이지 구현 (F001, F009)
  - 폼 컴포넌트 (React Hook Form + Zod)
  - 커버 이미지 업로드 (Supabase Storage)
  - 입력 유효성 검사
- [ ] 이벤트 상세 페이지 구현 (F001, F002, F003, F009)
  - 이벤트 정보 표시
  - 초대 링크 자동 생성 (invite_code)
  - 초대 링크 복사 기능
- [ ] 이벤트 수정/삭제 기능 구현 (F006)

**검증 기준**: 이벤트 생성 → 초대 링크 생성 → 이벤트 목록 조회 플로우 동작

---

### Sprint 3 (1주): 참여자 핵심 기능 (모바일)

**목표**: 초대 링크 참여, 실시간 참여자 목록, 참여 이벤트 조회

- [ ] 초대 링크 참여 페이지 구현 (F002, F004, F010)
  - 초대 코드 유효성 검사
  - 이벤트 미리보기
  - 자동 참여 처리 로직 (event_participants 추가)
  - 중복 참여 방지
- [ ] 실시간 참여자 목록 구현 (F005)
  - Supabase Realtime 구독 설정
  - 참여자 카드 컴포넌트 (Avatar + 이름)
  - 참여자 수 카운트
- [ ] 프로필 페이지 구현 (F011)
  - 기본 프로필 정보 표시
  - 로그아웃 기능
- [ ] 내가 참여한 이벤트 목록 표시 (F007)

**검증 기준**: 초대 링크 클릭 → 로그인 → 자동 참여 → 실시간 목록 업데이트 플로우 동작

---

### Sprint 4 (1주): 관리자 대시보드 (데스크톱)

**목표**: 관리자 로그인, 주요 지표 카드, 이벤트/사용자 관리 테이블

- [ ] 관리자 로그인 페이지 구현 (F010)
  - role 체크 로직 (admin만 접근)
  - 미들웨어 설정 (/admin/* 경로 보호)
- [ ] 관리자 대시보드 레이아웃 구현
  - 좌측 사이드바 (메뉴)
  - 메인 콘텐츠 영역
- [ ] 관리자 대시보드 메인 페이지 구현 (F012)
  - 주요 지표 카드 (오늘/이번 주/이번 달/전체)
  - SQL 쿼리 최적화 (COUNT, GROUP BY)
- [ ] 이벤트 관리 테이블 구현 (F013)
  - 전체 이벤트 테이블
  - 검색/필터 기능
  - 삭제 기능
  - 페이지네이션
- [ ] 사용자 관리 테이블 구현 (F014)
  - 전체 사용자 테이블
  - 검색/필터 기능
  - 삭제 기능
  - 페이지네이션

**검증 기준**: 관리자 로그인 → 지표 카드 표시 → 이벤트/사용자 관리 테이블 동작

---

### Sprint 5 (1주): 통계 분석 & UI/UX 개선

**목표**: 통계 그래프 구현, 모바일 UX 최적화, 다크 모드 지원

- [ ] Recharts 라이브러리 설치
- [ ] 관리자 통계 분석 페이지 구현 (F015)
  - 이벤트 생성 추이 그래프 (Line Chart)
  - 사용자 증가 추이 그래프 (Line Chart)
  - 기간 필터 (최근 7일/30일/90일)
- [ ] 모바일 UX 개선
  - 터치 영역 확대 (최소 48px)
  - 스크롤 성능 최적화
  - 로딩 스켈레톤 추가
- [ ] 다크 모드 지원
  - next-themes를 사용한 테마 전환 (이미 설치됨 ✅)
  - 모든 페이지 다크 모드 스타일 적용
- [ ] Toast 알림 시스템 구현
  - 성공/실패 메시지 표시
  - shadcn/ui Toast 컴포넌트 사용

**검증 기준**: 통계 그래프 표시, 다크 모드 전환 동작, Toast 알림 표시

---

### Sprint 6 (1주): 테스트, 최적화 & 배포

**목표**: 전체 기능 통합 테스트, 성능 최적화, 프로덕션 배포

- [ ] 전체 사용자 플로우 테스트
  - 주최자: 이벤트 생성 → 초대 링크 공유 → 참여자 목록 확인
  - 참여자: 초대 링크 클릭 → 로그인 → 자동 참여 → 이벤트 상세 확인
  - 관리자: 로그인 → 지표 확인 → 이벤트/사용자 관리
- [ ] 성능 최적화
  - 이미지 최적화 (next/image 사용)
  - 코드 스플리팅 (Next.js 자동)
  - Lighthouse 스코어 90+ 달성
- [ ] SEO 최적화
  - 메타 태그 추가 (title, description, og:image)
  - robots.txt, sitemap.xml 생성
- [ ] 에러 처리 및 사용자 피드백
  - 404 페이지, 에러 바운더리
  - 로딩 상태 표시
  - 에러 메시지 개선
- [ ] Vercel 배포
  - 환경 변수 설정
  - 프로덕션 빌드 테스트
  - 도메인 연결 (선택)
- [ ] 문서화
  - README.md 업데이트
  - API 문서 작성 (Supabase RPC 함수)

**검증 기준**: 모든 기능 동작, Lighthouse 스코어 90+, Vercel 배포 완료

---

## 🎯 성공 지표 (KPI)

### 1차 목표 (MVP 출시 후 1개월)

| 지표 | 목표값 | 측정 방법 |
|------|--------|----------|
| **주간 생성 이벤트 수** | 50개/주 | Supabase Analytics (events 테이블 COUNT) |
| **월간 활성 사용자 (MAU)** | 200명 | Supabase Auth (unique users) |
| **초대 링크 → 회원가입 전환율** | 70% | event_participants 테이블 JOIN users 테이블 |
| **이벤트당 평균 참여자 수** | 8명 | event_participants 테이블 AVG(COUNT) |
| **재방문율 (7일 이내)** | 40% | Supabase Analytics (returning users) |

### 2차 목표 (Phase 2 출시 후 3개월)

- 주간 생성 이벤트 수: 200개/주
- 월간 활성 사용자: 1,000명
- 정산 기능 사용률: 60%
- 카풀 기능 사용률: 40%

---

## 🚀 경쟁 우위 및 차별점

### 1. 일회성 이벤트 특화

- **경쟁사 분석**:
  - **소모임** (정기 동호회 중심, 500만 다운로드) → Gather는 **일회성 이벤트 특화**
  - **카카오 톡캘린더** (일정 공유만, 관리 기능 부족) → Gather는 **올인원 관리**
  - **Apple Invites** (iOS만, 기본 초대만) → Gather는 **크로스 플랫폼, 정산/카풀 포함**
  - **Partiful** (파티 중심, 관리 기능 부족) → Gather는 **실용적 관리 기능**
  - **Eventbrite** (대규모 이벤트용) → Gather는 **소규모 최적화 (5-30명)**

### 2. 모바일 퍼스트 UX

- **럭키밀 스타일의 깔끔한 카드 UI**: 직관적이고 아름다운 디자인
- **3초 만에 로그인**: Google OAuth로 간편 가입
- **초대 링크 하나로 끝**: 복잡한 절차 없이 링크 하나로 모든 것 해결

### 3. 관리자 대시보드 포함

- **통계 대시보드**: 플랫폼 성장 모니터링
- **이벤트/사용자 관리**: 실시간 관리 기능
- **그래프 시각화**: Recharts로 추이 확인

### 4. Phase 2: 정산 & 카풀 기능

- **정산 관리**: N분의 1 자동 계산, 송금 완료 체크리스트
- **카풀 관리**: 운전자 등록, 탑승자 신청/배정

### 5. 한국 시장 최적화

- **카카오톡 공유**: 초대 링크를 카카오톡으로 간편 공유
- **한국어 인터페이스**: 모든 UI/UX 한국어 최적화
- **완전 무료**: 광고 없이 완전 무료 제공

---

## 📝 추가 참고사항

### Supabase 설정 체크리스트

- [x] Supabase 프로젝트 생성 (이미 완료 ✅)
- [x] 환경 변수 설정 (.env.local) (이미 완료 ✅)
- [ ] 데이터베이스 스키마 생성 (users, events, event_participants)
- [ ] Row Level Security (RLS) 정책 설정
  - users: 본인 정보만 수정 가능
  - events: 주최자만 수정/삭제 가능
  - event_participants: 본인만 참여 취소 가능
- [ ] Supabase Storage 버킷 생성 (event-covers)
  - Public 읽기 권한 설정
  - 파일 크기 제한 (최대 5MB)
  - 허용 확장자 (jpg, png, webp)
- [ ] Supabase Realtime 구독 설정 (event_participants 테이블)

### 보안 고려사항

- **인증**: Supabase Auth를 통한 안전한 Google OAuth
- **권한**: Row Level Security (RLS)로 데이터 접근 제어
- **관리자 권한**: role 기반 접근 제어 (admin만 /admin/* 접근)
- **초대 코드**: UUID v4로 고유 코드 생성 (충돌 방지)
- **파일 업로드**: 파일 크기 및 확장자 제한 (악성 파일 방지)

### 성능 최적화 체크리스트

- [ ] 이미지 최적화 (next/image 사용, webp 포맷)
- [ ] 코드 스플리팅 (Next.js 자동)
- [ ] Supabase 쿼리 최적화 (인덱스 추가, JOIN 최소화)
- [ ] Realtime 구독 최적화 (필요한 컬럼만 select)
- [ ] 무한 스크롤 또는 페이지네이션 (이벤트 목록)

---

**📌 이 PRD는 개발자가 바로 참고하여 개발을 시작할 수 있도록 작성되었습니다.**
**각 Sprint별로 체크리스트를 완료하며 점진적으로 MVP를 구축하세요.**
